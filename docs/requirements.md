# 뉴스 요약/감성 분석 웹앱 기획서

## 목표
- NEWSDATA.io API 기반 뉴스 수집 → 요약·감성 분석 → 웹에서 검색/필터/열람.
- 투자/시장 뉴스 요약을 빠르게 파악하고, 정서 흐름을 한눈에 확인.

## 대상 페르소나
- 애널리스트/리서처: 빠른 요약과 감성 스냅샷 필요.
- 개인 투자자: 하루 뉴스 하이라이트와 긍/부정 분위기 확인.
- 콘텐츠 큐레이터: 키워드·요약을 재배포/공유.

## 주요 시나리오
1) 사용자가 웹에서 최신 뉴스 목록을 열람 → 감성(긍/중립/부정) 필터 → 기사 상세 클릭 → 요약/키워드 확인.
2) 특정 기간/출처 필터 후 키워드 검색 → 결과 정렬(최신/감성 점수) → 관심 기사 저장(향후 확장).
3) 운영자(내부) 수집 트리거 실행 → 실패 로그 확인 → 재시도.

## 기능 요구
- API 소스 관리: NEWSDATA.io API 키 관리, 마지막 수집 시각 저장.
- 수집/정규화: API를 통한 뉴스 데이터 추출, HTML/태그 제거, 중복 제거.
- 분석: Gemini로 요약(3~4문장), 감성 라벨+스코어(-1~1), 키워드 3~6개.
- 검색/필터: 날짜, 출처, 감성 라벨, 키워드 포함 텍스트 검색.
- 정렬: 발행 시각, 감성 스코어 기준.
- 건강 체크: `/health` OK 반환.

## 비기능 요구
- 응답 지연: 목록 ≤1.5s(캐시 기준), 상세 ≤1s.
- 가용성: 퍼블릭 베타 99.5% 목표.
- 보안: API 키(.env) 비공개, CORS 화이트리스트, 입력 길이 제한.
- 규제/안전: 개인정보/금칙어 필터링 후 모델 호출.
- 로깅: 수집/모델 호출 결과, 에러/재시도 로그.
- 관찰성: 수집 성공/실패 카운트, 모델 응답 시간, 레이트 리밋.

## 데이터 정책
- 저장: 원문, 정제 텍스트, 요약, 감성, 키워드, 메타(JSON).
- 익명성: 개인정보 탐지 시 저장/표시 차단.
- 만료/정리: 오래된 기사(예: 90일) 아카이브/삭제 옵션.

## 리스크 및 완화
- API 불안정/호출 실패: 다중 소스, 재시도/백오프, API 실패 로그.
- 모델 호출 한도 초과: 큐잉+스로틀, 폴백(이전 요약/간이 규칙 기반).
- 품질 편향: 예시·시드 문구로 중립 톤 유도, 감성 스코어 캘리브레이션.
- 보안: 입력 길이 제한, API 키 관리, 에러 메시지 최소화.
